macro_optional_find_package(PNG)
macro_optional_find_package(OpenEXR)
macro_optional_find_package(TIFF)
macro_optional_find_package(Exiv2)
macro_optional_find_package(JPEG)
macro_optional_find_package(GraphicsMagick)
macro_optional_find_package(PopplerQt4)

include_directories(${KRITA_INCLUDES})

add_subdirectory( raw )

if(JPEG_FOUND AND EXIV2_FOUND)
	add_subdirectory(jpeg)
else(JPEG_FOUND AND EXIV2_FOUND)
  message(STATUS "Could not find the Jpeg and/or Exiv2 library. The Jpeg support won't be builded.")
endif(JPEG_FOUND AND EXIV2_FOUND)

if(TIFF_FOUND )
	add_subdirectory(tiff)
else(TIFF_FOUND)
  message(STATUS "Could not find the Tiff library. The Tiff support won't be builded.")
endif(TIFF_FOUND )

if(PNG_FOUND)
    add_subdirectory(png)
else(PNG_FOUND)
  message(STATUS "Could not find the PNG library. The PNG support won't be builded.")
endif(PNG_FOUND)

if(OPENEXR_FOUND)
    add_subdirectory(openexr)
else(OPENEXR_FOUND)
  message(STATUS "Could not find the OpenEXR library. The EXR support won't be builded.")
endif(OPENEXR_FOUND)

if(GRAPHICSMAGICK_FOUND)
    add_subdirectory(gmagick)
else(GRAPHICSMAGICK_FOUND)
  message(STATUS "Could not find the graphicsmagick library. The support for various file format (including PSD, XCF) won't be builded.")
endif(GRAPHICSMAGICK_FOUND)

if(POPPLER_QT4_FOUND)
    add_subdirectory(pdf)
else(POPPLER_QT4_FOUND)
  message(STATUS "Could not find the poppler-qt4 library. The PDF support won't be builded.")
endif(POPPLER_QT4_FOUND)
