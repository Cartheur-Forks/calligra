kde4_header()

set(kritaimageenhancement_PART_SRCS
    imageenhancement.cpp
    kis_simple_noise_reducer.cpp
    kis_wavelet_noise_reduction.cpp
    )

kde4_automoc(${kritaimageenhancement_PART_SRCS})

#file(WRITE dummy.cpp "//autogenerated file by cmake\n")
kde4_add_plugin(kritaimageenhancement ${kritaimageenhancement_PART_SRCS})

kde4_install_libtool_file( ${PLUGIN_INSTALL_DIR} kritaimageenhancement )

target_link_libraries(kritaimageenhancement  ${KDE4_KDECORE_LIBS} kritacommon )

install_targets(${LIB_INSTALL_DIR}/kde4 kritaimageenhancement )


########### install files ###############

install_files( ${DATA_INSTALL_DIR}/krita/kritaplugins FILES  )
install_files( ${SERVICES_INSTALL_DIR} FILES  kritaimageenhancement.desktop )

kde4_footer()



#original Makefile.am contents follow:

#kritarcdir = $(kde_datadir)/krita/kritaplugins
#
#kde_services_DATA = kritaimageenhancement.desktop
#
#
#INCLUDES  = -I$(srcdir)/../../../sdk \
#	-I$(srcdir)/../../../core \
#	-I$(srcdir)/../../../kritacolor/ \
#	-I$(srcdir)/../../../ui \
#	$(KOFFICE_INCLUDES) \
#	$(all_includes)
#
#kritaimageenhancement_la_SOURCES = imageenhancement.cpp \
#	kis_simple_noise_reducer.cpp kis_wavelet_noise_reduction.cpp
#
#kde_module_LTLIBRARIES = kritaimageenhancement.la
#
#kritaimageenhancement_la_LDFLAGS = $(all_libraries) -module $(KDE_PLUGIN)
#
#noinst_HEADERS = imageenhancement.h kis_wavelet_noise_reduction.h
#
#kritaimageenhancement_la_LIBADD =  ../../../libkritacommon.la 
#
#kritaimageenhencement_la_METASOURCES = AUTO
#
#KDE_CXXFLAGS = $(USE_EXCEPTIONS)
