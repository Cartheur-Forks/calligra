<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>KD Chart 2: KDChartCartesianCoordinatePlane.cpp Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.6 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="namespacemembers.html">Namespace&nbsp;Members</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1>KDChartCartesianCoordinatePlane.cpp</h1><a href="_k_d_chart_cartesian_coordinate_plane_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <span class="comment">/****************************************************************************</span>
00002 <span class="comment"> ** Copyright (C) 2006 Klar√§lvdalens Datakonsult AB.  All rights reserved.</span>
00003 <span class="comment"> **</span>
00004 <span class="comment"> ** This file is part of the KD Chart library.</span>
00005 <span class="comment"> **</span>
00006 <span class="comment"> ** This file may be distributed and/or modified under the terms of the</span>
00007 <span class="comment"> ** GNU General Public License version 2 as published by the Free Software</span>
00008 <span class="comment"> ** Foundation and appearing in the file LICENSE.GPL included in the</span>
00009 <span class="comment"> ** packaging of this file.</span>
00010 <span class="comment"> **</span>
00011 <span class="comment"> ** Licensees holding valid commercial KD Chart licenses may use this file in</span>
00012 <span class="comment"> ** accordance with the KD Chart Commercial License Agreement provided with</span>
00013 <span class="comment"> ** the Software.</span>
00014 <span class="comment"> **</span>
00015 <span class="comment"> ** This file is provided AS IS with NO WARRANTY OF ANY KIND, INCLUDING THE</span>
00016 <span class="comment"> ** WARRANTY OF DESIGN, MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.</span>
00017 <span class="comment"> **</span>
00018 <span class="comment"> ** See http://www.kdab.net/kdchart for</span>
00019 <span class="comment"> **   information about KDChart Commercial License Agreements.</span>
00020 <span class="comment"> **</span>
00021 <span class="comment"> ** Contact info@kdab.net if any conditions of this</span>
00022 <span class="comment"> ** licensing are not clear to you.</span>
00023 <span class="comment"> **</span>
00024 <span class="comment"> **********************************************************************/</span>
00025 
00026 <span class="preprocessor">#include &lt;QFont&gt;</span>
00027 <span class="preprocessor">#include &lt;QList&gt;</span>
00028 <span class="preprocessor">#include &lt;QtDebug&gt;</span>
00029 <span class="preprocessor">#include &lt;QPainter&gt;</span>
00030 <span class="preprocessor">#include &lt;QApplication&gt;</span>
00031 
00032 <span class="preprocessor">#include "<a class="code" href="_k_d_chart_abstract_diagram_8h.html">KDChartAbstractDiagram.h</a>"</span>
00033 <span class="preprocessor">#include "<a class="code" href="_k_d_chart_abstract_cartesian_diagram_8h.html">KDChartAbstractCartesianDiagram.h</a>"</span>
00034 <span class="preprocessor">#include "<a class="code" href="_k_d_chart_cartesian_coordinate_plane_8h.html">KDChartCartesianCoordinatePlane.h</a>"</span>
00035 <span class="preprocessor">#include "KDChartCartesianCoordinatePlane_p.h"</span>
00036 <span class="preprocessor">#include "CartesianCoordinateTransformation.h"</span>
00037 <span class="preprocessor">#include "<a class="code" href="_k_d_chart_grid_attributes_8h.html">KDChartGridAttributes.h</a>"</span>
00038 <span class="preprocessor">#include "<a class="code" href="_k_d_chart_paint_context_8h.html">KDChartPaintContext.h</a>"</span>
00039 <span class="preprocessor">#include "KDChartPainterSaver_p.h"</span>
00040 
00041 <span class="preprocessor">#include &lt;KDABLibFakes&gt;</span>
00042 
00043 
00044 <span class="keyword">using</span> <span class="keyword">namespace </span>KDChart;
00045 
<a name="l00046"></a><a class="code" href="_k_d_chart_cartesian_coordinate_plane_8cpp.html#a0">00046</a> <span class="preprocessor">#define d d_func()</span>
00047 <span class="preprocessor"></span>
00048 CartesianCoordinatePlane::Private::Private()
00049     : <a class="code" href="class_k_d_chart_1_1_abstract_coordinate_plane.html">AbstractCoordinatePlane</a>::Private()
00050     , bPaintIsRunning( false )
00051     , hasOwnGridAttributesHorizontal ( false )
00052     , hasOwnGridAttributesVertical ( false )
00053     <span class="comment">// old: , initialResizeEventReceived ( false )</span>
00054     , isometricScaling ( false )
00055     , horizontalMin(0)
00056     , horizontalMax(0)
00057     , verticalMin(0)
00058     , verticalMax(0)
00059     , autoAdjustHorizontalRangeToData(67)
00060     , autoAdjustVerticalRangeToData(  67)
00061     , autoAdjustGridToZoom( true )
00062 {
00063     <span class="comment">// this bloc left empty intentionally</span>
00064 }
00065 
00066 
<a name="l00067"></a><a class="code" href="class_k_d_chart_1_1_cartesian_coordinate_plane.html#_k_d_chart_1_1_cartesian_coordinate_planea11">00067</a> <a class="code" href="class_k_d_chart_1_1_cartesian_coordinate_plane.html#_k_d_chart_1_1_cartesian_coordinate_planea11">CartesianCoordinatePlane::CartesianCoordinatePlane</a> ( <a class="code" href="class_k_d_chart_1_1_chart.html">Chart</a>* parent )
00068     : <a class="code" href="class_k_d_chart_1_1_abstract_coordinate_plane.html">AbstractCoordinatePlane</a> ( new Private(), parent )
00069 {
00070     <span class="comment">// this bloc left empty intentionally</span>
00071 }
00072 
<a name="l00073"></a><a class="code" href="class_k_d_chart_1_1_cartesian_coordinate_plane.html#_k_d_chart_1_1_cartesian_coordinate_planea85">00073</a> <a class="code" href="class_k_d_chart_1_1_cartesian_coordinate_plane.html#_k_d_chart_1_1_cartesian_coordinate_planea85">CartesianCoordinatePlane::~CartesianCoordinatePlane</a>()
00074 {
00075     <span class="comment">// this bloc left empty intentionally</span>
00076 }
00077 
00078 <span class="keywordtype">void</span> CartesianCoordinatePlane::init()
00079 {
00080     <span class="comment">// this bloc left empty intentionally</span>
00081 }
00082 
00083 
<a name="l00084"></a><a class="code" href="class_k_d_chart_1_1_cartesian_coordinate_plane.html#_k_d_chart_1_1_cartesian_coordinate_planea0">00084</a> <span class="keywordtype">void</span> <a class="code" href="class_k_d_chart_1_1_cartesian_coordinate_plane.html#_k_d_chart_1_1_cartesian_coordinate_planea0">CartesianCoordinatePlane::addDiagram</a> ( <a class="code" href="class_k_d_chart_1_1_abstract_diagram.html">AbstractDiagram</a>* diagram )
00085 {
00086     Q_ASSERT_X ( dynamic_cast&lt;AbstractCartesianDiagram*&gt; ( diagram ),
00087                  <span class="stringliteral">"CartesianCoordinatePlane::addDiagram"</span>, <span class="stringliteral">"Only cartesian "</span>
00088                  <span class="stringliteral">"diagrams can be added to a cartesian coordinate plane!"</span> );
00089     <a class="code" href="class_k_d_chart_1_1_abstract_coordinate_plane.html#_k_d_chart_1_1_abstract_coordinate_planea0">AbstractCoordinatePlane::addDiagram</a> ( diagram );
00090     connect ( diagram,  SIGNAL ( layoutChanged ( <a class="code" href="class_k_d_chart_1_1_abstract_diagram.html">AbstractDiagram</a>* ) ),
00091               SLOT ( slotLayoutChanged ( AbstractDiagram* ) ) );
00092 
00093     connect( diagram, SIGNAL( <a class="code" href="class_k_d_chart_1_1_abstract_coordinate_plane.html#_k_d_chart_1_1_polar_coordinate_planea38">propertiesChanged</a>() ),<span class="keyword">this</span>, SIGNAL( <a class="code" href="class_k_d_chart_1_1_abstract_coordinate_plane.html#_k_d_chart_1_1_polar_coordinate_planea38">propertiesChanged</a>() ) );
00094 }
00095 
00096 
<a name="l00097"></a><a class="code" href="class_k_d_chart_1_1_cartesian_coordinate_plane.html#_k_d_chart_1_1_cartesian_coordinate_planea37">00097</a> <span class="keywordtype">void</span> <a class="code" href="class_k_d_chart_1_1_cartesian_coordinate_plane.html#_k_d_chart_1_1_cartesian_coordinate_planea37">CartesianCoordinatePlane::paint</a> ( QPainter* painter )
00098 {
00099     <span class="comment">// prevent recursive call:</span>
00100     <span class="comment">//qDebug("attempt plane::paint()");</span>
00101     <span class="keywordflow">if</span>( <a class="code" href="_k_d_chart_abstract_area_8cpp.html#a0">d</a>-&gt;bPaintIsRunning ){
00102         <span class="keywordflow">return</span>;
00103     }
00104     <a class="code" href="_k_d_chart_abstract_area_8cpp.html#a0">d</a>-&gt;bPaintIsRunning = <span class="keyword">true</span>;
00105 
00106     <span class="comment">//qDebug() &lt;&lt; "start plane::paint()";</span>
00107 
00108     <a class="code" href="namespace_k_d_chart.html#a1">AbstractDiagramList</a> diags = <a class="code" href="class_k_d_chart_1_1_abstract_coordinate_plane.html#_k_d_chart_1_1_polar_coordinate_planea8">diagrams</a>();
00109     <span class="keywordflow">if</span> ( !diags.isEmpty() )
00110     {
00111         <a class="code" href="class_k_d_chart_1_1_paint_context.html">PaintContext</a> ctx;
00112         ctx.<a class="code" href="class_k_d_chart_1_1_paint_context.html#_k_d_chart_1_1_paint_contexta5">setPainter</a> ( painter );
00113         ctx.<a class="code" href="class_k_d_chart_1_1_paint_context.html#_k_d_chart_1_1_paint_contexta4">setCoordinatePlane</a> ( <span class="keyword">this</span> );
00114         <span class="keyword">const</span> QRectF drawArea( <a class="code" href="class_k_d_chart_1_1_cartesian_coordinate_plane.html#_k_d_chart_1_1_cartesian_coordinate_planeb6">drawingArea</a>() );
00115         ctx.<a class="code" href="class_k_d_chart_1_1_paint_context.html#_k_d_chart_1_1_paint_contexta6">setRectangle</a> ( drawArea );
00116 
00117         <span class="comment">// enabling clipping so that we're not drawing outside</span>
00118         PainterSaver painterSaver( painter );
00119         QRect clipRect = drawArea.toRect().adjusted( -1, -1, 1, 1 );
00120         QRegion clipRegion( clipRect );
00121         painter-&gt;setClipRegion( clipRegion );
00122 
00123         <span class="comment">// paint the coordinate system rulers:</span>
00124         <a class="code" href="_k_d_chart_abstract_area_8cpp.html#a0">d</a>-&gt;grid-&gt;drawGrid( &amp;ctx );
00125 
00126         <span class="comment">// paint the diagrams:</span>
00127         <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> i = 0; i &lt; diags.size(); i++ )
00128         {
00129 <span class="comment">//qDebug("  start diags[i]-&gt;paint ( &amp;ctx );");</span>
00130             PainterSaver diagramPainterSaver( painter );
00131             diags[i]-&gt;paint ( &amp;ctx );
00132 <span class="comment">//qDebug("  done: diags[i]-&gt;paint ( &amp;ctx );");</span>
00133         }
00134 
00135         <span class="comment">//for debugging:</span>
00136         <span class="comment">//    painter-&gt;drawRect( drawArea.adjusted(4,4,-4,-4) );</span>
00137         <span class="comment">//    painter-&gt;drawRect( drawArea.adjusted(2,2,-2,-2) );</span>
00138         <span class="comment">//    painter-&gt;drawRect( drawArea );</span>
00139     }
00140     <a class="code" href="_k_d_chart_abstract_area_8cpp.html#a0">d</a>-&gt;bPaintIsRunning = <span class="keyword">false</span>;
00141     <span class="comment">//qDebug("done: plane::paint()");</span>
00142 }
00143 
00144 
00145 <span class="keywordtype">void</span> CartesianCoordinatePlane::slotLayoutChanged ( <a class="code" href="class_k_d_chart_1_1_abstract_diagram.html">AbstractDiagram</a>* )
00146 {
00147     <span class="comment">// old: if ( d-&gt;initialResizeEventReceived )</span>
00148     <a class="code" href="class_k_d_chart_1_1_cartesian_coordinate_plane.html#_k_d_chart_1_1_cartesian_coordinate_planeb10">layoutDiagrams</a>();
00149 }
00150 
<a name="l00151"></a><a class="code" href="class_k_d_chart_1_1_cartesian_coordinate_plane.html#_k_d_chart_1_1_cartesian_coordinate_planeb8">00151</a> QRectF <a class="code" href="class_k_d_chart_1_1_cartesian_coordinate_plane.html#_k_d_chart_1_1_cartesian_coordinate_planeb8">CartesianCoordinatePlane::getRawDataBoundingRectFromDiagrams</a>()<span class="keyword"> const</span>
00152 <span class="keyword"></span>{
00153     <span class="comment">// determine unit of the rectangles of all involved diagrams:</span>
00154     qreal minX, maxX, minY, maxY;
00155     <span class="keywordtype">bool</span> bStarting = <span class="keyword">true</span>;
00156     Q_FOREACH( <span class="keyword">const</span> <a class="code" href="class_k_d_chart_1_1_abstract_diagram.html">AbstractDiagram</a>* diagram, <a class="code" href="class_k_d_chart_1_1_abstract_coordinate_plane.html#_k_d_chart_1_1_polar_coordinate_planea8">diagrams</a>() )
00157     {
00158         QPair&lt;QPointF, QPointF&gt; dataBoundariesPair = diagram-&gt;<a class="code" href="class_k_d_chart_1_1_abstract_diagram.html#_k_d_chart_1_1_ring_diagrama10">dataBoundaries</a>();
00159         <span class="comment">//qDebug() &lt;&lt; "CartesianCoordinatePlane::getRawDataBoundingRectFromDiagrams()\ngets diagram-&gt;dataBoundaries: " &lt;&lt; dataBoundariesPair.first &lt;&lt; dataBoundariesPair.second;</span>
00160         <span class="keywordflow">if</span> ( bStarting || dataBoundariesPair.first.x()  &lt; minX ) minX = dataBoundariesPair.first.x();
00161         <span class="keywordflow">if</span> ( bStarting || dataBoundariesPair.first.y()  &lt; minY ) minY = dataBoundariesPair.first.y();
00162         <span class="keywordflow">if</span> ( bStarting || dataBoundariesPair.second.x() &gt; maxX ) maxX = dataBoundariesPair.second.x();
00163         <span class="keywordflow">if</span> ( bStarting || dataBoundariesPair.second.y() &gt; maxY ) maxY = dataBoundariesPair.second.y();
00164         bStarting = <span class="keyword">false</span>;
00165     }
00166     <span class="comment">//qDebug() &lt;&lt; "CartesianCoordinatePlane::getRawDataBoundingRectFromDiagrams()\nreturns data boundaries: " &lt;&lt; QRectF( QPointF(minX, minY), QSizeF(maxX - minX, maxY - minY) );</span>
00167     QRectF dataBoundingRect;
00168     dataBoundingRect.setBottomLeft( QPointF(minX, minY) );
00169     dataBoundingRect.setTopRight(   QPointF(maxX, maxY) );
00170     <span class="keywordflow">return</span> dataBoundingRect;
00171 }
00172 
00173 
<a name="l00174"></a><a class="code" href="class_k_d_chart_1_1_cartesian_coordinate_plane.html#_k_d_chart_1_1_cartesian_coordinate_planeb0">00174</a> QRectF <a class="code" href="class_k_d_chart_1_1_cartesian_coordinate_plane.html#_k_d_chart_1_1_cartesian_coordinate_planeb0">CartesianCoordinatePlane::adjustedToMaxEmptyInnerPercentage</a>(
00175         <span class="keyword">const</span> QRectF&amp; r, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> percentX, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> percentY )<span class="keyword"> const</span>
00176 <span class="keyword"></span>{
00177     QRectF erg( r );
00178     <span class="keywordflow">if</span>( percentX &lt; 100 || percentX == 1000 ) {
00179         <span class="keyword">const</span> <span class="keywordtype">bool</span> isPositive = (r.left() &gt;= 0);
00180         <span class="keywordflow">if</span>( (r.right() &gt;= 0) == isPositive ){
00181             <span class="keyword">const</span> qreal innerBound =
00182                     isPositive ? qMin(r.left(), r.right()) : qMax(r.left(), r.right());
00183             <span class="keyword">const</span> qreal outerBound =
00184                     isPositive ? qMax(r.left(), r.right()) : qMin(r.left(), r.right());
00185             <span class="keywordflow">if</span>( innerBound / outerBound * 100 &lt;= percentX )
00186             {
00187                 <span class="keywordflow">if</span>( isPositive )
00188                     erg.setLeft( 0.0 );
00189                 <span class="keywordflow">else</span>
00190                     erg.setRight( 0.0 );
00191             }
00192         }
00193     }
00194     <span class="keywordflow">if</span>( percentY &lt; 100 || percentY == 1000 ) {
00195         <span class="keyword">const</span> <span class="keywordtype">bool</span> isPositive = (r.bottom() &gt;= 0);
00196         <span class="keywordflow">if</span>( (r.top() &gt;= 0) == isPositive ){
00197             <span class="keyword">const</span> qreal innerBound =
00198                     isPositive ? qMin(r.top(), r.bottom()) : qMax(r.top(), r.bottom());
00199             <span class="keyword">const</span> qreal outerBound =
00200                     isPositive ? qMax(r.top(), r.bottom()) : qMin(r.top(), r.bottom());
00201             <span class="keywordflow">if</span>( innerBound / outerBound * 100 &lt;= percentY )
00202             {
00203                 <span class="keywordflow">if</span>( isPositive )
00204                     erg.setBottom( 0.0 );
00205                 <span class="keywordflow">else</span>
00206                     erg.setTop( 0.0 );
00207             }
00208         }
00209     }
00210     <span class="keywordflow">return</span> erg;
00211 }
00212 
00213 
<a name="l00214"></a><a class="code" href="class_k_d_chart_1_1_cartesian_coordinate_plane.html#_k_d_chart_1_1_cartesian_coordinate_planeb2">00214</a> QRectF <a class="code" href="class_k_d_chart_1_1_cartesian_coordinate_plane.html#_k_d_chart_1_1_cartesian_coordinate_planeb2">CartesianCoordinatePlane::calculateRawDataBoundingRect</a>()<span class="keyword"> const</span>
00215 <span class="keyword"></span>{
00216     <span class="comment">// are manually set ranges to be applied?</span>
00217     <span class="keyword">const</span> <span class="keywordtype">bool</span> bAutoAdjustHorizontalRange = (<a class="code" href="_k_d_chart_abstract_area_8cpp.html#a0">d</a>-&gt;autoAdjustHorizontalRangeToData &lt; 100);
00218     <span class="keyword">const</span> <span class="keywordtype">bool</span> bAutoAdjustVerticalRange   = (<a class="code" href="_k_d_chart_abstract_area_8cpp.html#a0">d</a>-&gt;autoAdjustVerticalRangeToData   &lt; 100);
00219 
00220     <span class="keyword">const</span> <span class="keywordtype">bool</span> bHardHorizontalRange = (<a class="code" href="_k_d_chart_abstract_area_8cpp.html#a0">d</a>-&gt;horizontalMin != <a class="code" href="_k_d_chart_abstract_area_8cpp.html#a0">d</a>-&gt;horizontalMax) &amp;&amp; ! bAutoAdjustHorizontalRange;
00221     <span class="keyword">const</span> <span class="keywordtype">bool</span> bHardVerticalRange   = (<a class="code" href="_k_d_chart_abstract_area_8cpp.html#a0">d</a>-&gt;verticalMin   != <a class="code" href="_k_d_chart_abstract_area_8cpp.html#a0">d</a>-&gt;verticalMax)   &amp;&amp; ! bAutoAdjustVerticalRange;
00222     QRectF dataBoundingRect;
00223 
00224     <span class="comment">// if custom boundaries are set on the plane, use them</span>
00225     <span class="keywordflow">if</span> ( bHardHorizontalRange &amp;&amp; bHardVerticalRange ) {
00226         dataBoundingRect.setLeft(   <a class="code" href="_k_d_chart_abstract_area_8cpp.html#a0">d</a>-&gt;horizontalMin );
00227         dataBoundingRect.setRight(  <a class="code" href="_k_d_chart_abstract_area_8cpp.html#a0">d</a>-&gt;horizontalMax );
00228         dataBoundingRect.setBottom( <a class="code" href="_k_d_chart_abstract_area_8cpp.html#a0">d</a>-&gt;verticalMin );
00229         dataBoundingRect.setTop(    <a class="code" href="_k_d_chart_abstract_area_8cpp.html#a0">d</a>-&gt;verticalMax );
00230     }<span class="keywordflow">else</span>{
00231         <span class="comment">// determine unit of the rectangles of all involved diagrams:</span>
00232         dataBoundingRect = <a class="code" href="class_k_d_chart_1_1_cartesian_coordinate_plane.html#_k_d_chart_1_1_cartesian_coordinate_planeb8">getRawDataBoundingRectFromDiagrams</a>();
00233         <span class="keywordflow">if</span> ( bHardHorizontalRange ) {
00234             dataBoundingRect.setLeft(  <a class="code" href="_k_d_chart_abstract_area_8cpp.html#a0">d</a>-&gt;horizontalMin );
00235             dataBoundingRect.setRight( <a class="code" href="_k_d_chart_abstract_area_8cpp.html#a0">d</a>-&gt;horizontalMax );
00236         }
00237         <span class="keywordflow">if</span> ( bHardVerticalRange ) {
00238             dataBoundingRect.setBottom( <a class="code" href="_k_d_chart_abstract_area_8cpp.html#a0">d</a>-&gt;verticalMin );
00239             dataBoundingRect.setTop(    <a class="code" href="_k_d_chart_abstract_area_8cpp.html#a0">d</a>-&gt;verticalMax );
00240         }
00241     }
00242     <span class="comment">// recalculate the bounds, if automatic adjusting of ranges is desired AND</span>
00243     <span class="comment">//                         both bounds are at the same side of the zero line</span>
00244     dataBoundingRect = <a class="code" href="class_k_d_chart_1_1_cartesian_coordinate_plane.html#_k_d_chart_1_1_cartesian_coordinate_planeb0">adjustedToMaxEmptyInnerPercentage</a>(
00245             dataBoundingRect, <a class="code" href="_k_d_chart_abstract_area_8cpp.html#a0">d</a>-&gt;autoAdjustHorizontalRangeToData, <a class="code" href="_k_d_chart_abstract_area_8cpp.html#a0">d</a>-&gt;autoAdjustVerticalRangeToData );
00246     <span class="keywordflow">if</span>( bAutoAdjustHorizontalRange ){
00247         const_cast&lt;CartesianCoordinatePlane::Private *&gt;(<a class="code" href="_k_d_chart_abstract_area_8cpp.html#a0">d</a>)-&gt;horizontalMin = dataBoundingRect.left();
00248         const_cast&lt;CartesianCoordinatePlane::Private *&gt;(<a class="code" href="_k_d_chart_abstract_area_8cpp.html#a0">d</a>)-&gt;horizontalMax = dataBoundingRect.right();
00249     }
00250     <span class="keywordflow">if</span>( bAutoAdjustVerticalRange ){
00251         const_cast&lt;CartesianCoordinatePlane*&gt;(<span class="keyword">this</span>)-&gt;d-&gt;verticalMin = dataBoundingRect.bottom();
00252         const_cast&lt;CartesianCoordinatePlane*&gt;(<span class="keyword">this</span>)-&gt;d-&gt;verticalMax = dataBoundingRect.top();
00253     }
00254     <span class="comment">//qDebug() &lt;&lt; "CartesianCoordinatePlane::calculateRawDataBoundingRect()\nreturns data boundaries: " &lt;&lt; dataBoundingRect;</span>
00255     <span class="keywordflow">return</span> dataBoundingRect;
00256 }
00257 
00258 
<a name="l00259"></a><a class="code" href="class_k_d_chart_1_1_cartesian_coordinate_plane.html#_k_d_chart_1_1_cartesian_coordinate_planeb7">00259</a> <a class="code" href="namespace_k_d_chart.html#a0">DataDimensionsList</a> <a class="code" href="class_k_d_chart_1_1_cartesian_coordinate_plane.html#_k_d_chart_1_1_cartesian_coordinate_planeb7">CartesianCoordinatePlane::getDataDimensionsList</a>()<span class="keyword"> const</span>
00260 <span class="keyword"></span>{
00261 
00262     <a class="code" href="namespace_k_d_chart.html#a0">DataDimensionsList</a> l;
00263     <span class="keyword">const</span> <a class="code" href="class_k_d_chart_1_1_abstract_cartesian_diagram.html">AbstractCartesianDiagram</a>* dgr
00264         = <a class="code" href="class_k_d_chart_1_1_abstract_coordinate_plane.html#_k_d_chart_1_1_polar_coordinate_planea8">diagrams</a>().isEmpty() ? 0 : dynamic_cast&lt;const AbstractCartesianDiagram*&gt; (<a class="code" href="class_k_d_chart_1_1_abstract_coordinate_plane.html#_k_d_chart_1_1_polar_coordinate_planea8">diagrams</a>().first() );
00265 
00266     <span class="keywordflow">if</span>( dgr ){
00267         <span class="keyword">const</span> QRectF r( <a class="code" href="class_k_d_chart_1_1_cartesian_coordinate_plane.html#_k_d_chart_1_1_cartesian_coordinate_planeb2">calculateRawDataBoundingRect</a>() );
00268         <span class="comment">// note:</span>
00269         <span class="comment">// We do *not* access d-&gt;gridAttributesHorizontal here, but</span>
00270         <span class="comment">// we use the getter function, to get the global attrs, if no</span>
00271         <span class="comment">// special ones have been set for the respective orientation.</span>
00272         <span class="keyword">const</span> <a class="code" href="class_k_d_chart_1_1_grid_attributes.html">GridAttributes</a> gaH( <a class="code" href="class_k_d_chart_1_1_cartesian_coordinate_plane.html#_k_d_chart_1_1_cartesian_coordinate_planea22">gridAttributes</a>( Qt::Horizontal ) );
00273         <span class="keyword">const</span> <a class="code" href="class_k_d_chart_1_1_grid_attributes.html">GridAttributes</a> gaV( <a class="code" href="class_k_d_chart_1_1_cartesian_coordinate_plane.html#_k_d_chart_1_1_cartesian_coordinate_planea22">gridAttributes</a>( Qt::Vertical ) );
00274         <span class="comment">// append the first dimension: for Abscissa axes</span>
00275         l.append(
00276             <a class="code" href="class_k_d_chart_1_1_data_dimension.html">DataDimension</a>(
00277                 r.left(), r.right(),
00278                 dgr-&gt;<a class="code" href="class_k_d_chart_1_1_abstract_diagram.html#_k_d_chart_1_1_ring_diagrama13">datasetDimension</a>() &gt; 1,
00279                 <a class="code" href="class_k_d_chart_1_1_cartesian_coordinate_plane.html#_k_d_chart_1_1_cartesian_coordinate_planea7">axesCalcModeX</a>(),
00280                 gaH.<a class="code" href="class_k_d_chart_1_1_grid_attributes.html#_k_d_chart_1_1_grid_attributesa4">gridGranularitySequence</a>(),
00281                 gaH.<a class="code" href="class_k_d_chart_1_1_grid_attributes.html#_k_d_chart_1_1_grid_attributesa6">gridStepWidth</a>(),
00282                 gaH.<a class="code" href="class_k_d_chart_1_1_grid_attributes.html#_k_d_chart_1_1_grid_attributesa7">gridSubStepWidth</a>() ) );
00283         <span class="comment">// append the second dimension: for Ordinate axes</span>
00284         <span class="keywordflow">if</span>( dgr-&gt;<a class="code" href="class_k_d_chart_1_1_abstract_diagram.html#_k_d_chart_1_1_ring_diagrama38">percentMode</a>() )
00285             l.append(
00286                 <a class="code" href="class_k_d_chart_1_1_data_dimension.html">DataDimension</a>(
00287                     <span class="comment">// always return 0-100 when in percentMode</span>
00288                     0.0, 100.0,
00289                     <span class="keyword">true</span>,
00290                     <a class="code" href="class_k_d_chart_1_1_cartesian_coordinate_plane.html#_k_d_chart_1_1_cartesian_coordinate_planea8">axesCalcModeY</a>(),
00291                     KDChartEnums::GranularitySequence_10_20,
00292                     10.0 ) );
00293         <span class="keywordflow">else</span>
00294             l.append(
00295                 <a class="code" href="class_k_d_chart_1_1_data_dimension.html">DataDimension</a>(
00296                     r.bottom(), r.top(),
00297                     <span class="keyword">true</span>,
00298                     <a class="code" href="class_k_d_chart_1_1_cartesian_coordinate_plane.html#_k_d_chart_1_1_cartesian_coordinate_planea8">axesCalcModeY</a>(),
00299                     gaV.<a class="code" href="class_k_d_chart_1_1_grid_attributes.html#_k_d_chart_1_1_grid_attributesa4">gridGranularitySequence</a>(),
00300                     gaV.<a class="code" href="class_k_d_chart_1_1_grid_attributes.html#_k_d_chart_1_1_grid_attributesa6">gridStepWidth</a>(),
00301                     gaV.<a class="code" href="class_k_d_chart_1_1_grid_attributes.html#_k_d_chart_1_1_grid_attributesa7">gridSubStepWidth</a>() ) );
00302     }<span class="keywordflow">else</span>{
00303         l.append( <a class="code" href="class_k_d_chart_1_1_data_dimension.html">DataDimension</a>() ); <span class="comment">// This gets us the default 1..0 / 1..0 grid</span>
00304         l.append( <a class="code" href="class_k_d_chart_1_1_data_dimension.html">DataDimension</a>() ); <span class="comment">// shown, if there is no diagram on this plane.</span>
00305     }
00306     <span class="keywordflow">return</span> l;
00307 }
00308 
<a name="l00309"></a><a class="code" href="class_k_d_chart_1_1_cartesian_coordinate_plane.html#_k_d_chart_1_1_cartesian_coordinate_planeb6">00309</a> QRectF <a class="code" href="class_k_d_chart_1_1_cartesian_coordinate_plane.html#_k_d_chart_1_1_cartesian_coordinate_planeb6">CartesianCoordinatePlane::drawingArea</a>()<span class="keyword"> const</span>
00310 <span class="keyword"></span>{
00311     <span class="keyword">const</span> QRect rect( <a class="code" href="class_k_d_chart_1_1_abstract_area.html#_k_d_chart_1_1_polar_coordinate_planeb0">areaGeometry</a>() );
00312     <span class="keywordflow">return</span> QRectF ( rect.left()+1, rect.top()+1, rect.width() - 3, rect.height() - 3 );
00313 }
00314 
00315 
<a name="l00316"></a><a class="code" href="class_k_d_chart_1_1_cartesian_coordinate_plane.html#_k_d_chart_1_1_cartesian_coordinate_planeb10">00316</a> <span class="keywordtype">void</span> <a class="code" href="class_k_d_chart_1_1_cartesian_coordinate_plane.html#_k_d_chart_1_1_cartesian_coordinate_planeb10">CartesianCoordinatePlane::layoutDiagrams</a>()
00317 {
00318     <span class="comment">//qDebug("KDChart::CartesianCoordinatePlane::layoutDiagrams() called");</span>
00319     <span class="keywordflow">if</span> ( <a class="code" href="class_k_d_chart_1_1_abstract_coordinate_plane.html#_k_d_chart_1_1_polar_coordinate_planea8">diagrams</a>().isEmpty() )
00320     {   <span class="comment">// FIXME evaluate what can still be prepared</span>
00321         <span class="comment">// FIXME decide default dimension if no diagrams are present (to make empty planes useable)</span>
00322     }
00323     <span class="comment">// the rectangle the diagrams cover in the *plane*:</span>
00324     <span class="comment">// (Why -3? We save 1px on each side for the antialiased drawing, and</span>
00325     <span class="comment">// respect the way QPainter calculates the width of a painted rect (the</span>
00326     <span class="comment">// size is the rectangle size plus the pen width). This way, most clipping</span>
00327     <span class="comment">// for regular pens should be avoided. When pens with a penWidth or larger</span>
00328     <span class="comment">// than 1 are used, this may not be sufficient.</span>
00329     <span class="keyword">const</span> QRectF drawArea( <a class="code" href="class_k_d_chart_1_1_cartesian_coordinate_plane.html#_k_d_chart_1_1_cartesian_coordinate_planeb6">drawingArea</a>() );
00330     <span class="comment">//qDebug() &lt;&lt; "drawingArea() returns" &lt;&lt; drawArea;</span>
00331 
00332     <span class="keyword">const</span> <a class="code" href="namespace_k_d_chart.html#a0">DataDimensionsList</a> dimensions( <a class="code" href="class_k_d_chart_1_1_abstract_coordinate_plane.html#_k_d_chart_1_1_polar_coordinate_planea15">gridDimensionsList</a>() );
00333     <span class="comment">// test for programming errors: critical</span>
00334     Q_ASSERT_X ( dimensions.count() == 2, <span class="stringliteral">"CartesianCoordinatePlane::layoutDiagrams"</span>,
00335                  <span class="stringliteral">"Error: gridDimensionsList() did not return exactly two dimensions."</span> );
00336     <span class="keyword">const</span> <a class="code" href="class_k_d_chart_1_1_data_dimension.html">DataDimension</a> dimX = dimensions.first();
00337     <span class="keyword">const</span> <a class="code" href="class_k_d_chart_1_1_data_dimension.html">DataDimension</a> dimY = dimensions.last();
00338     <span class="keyword">const</span> qreal distX = dimX.<a class="code" href="class_k_d_chart_1_1_data_dimension.html#_k_d_chart_1_1_data_dimensiona2">distance</a>();
00339     <span class="keyword">const</span> qreal distY = dimY.<a class="code" href="class_k_d_chart_1_1_data_dimension.html#_k_d_chart_1_1_data_dimensiona2">distance</a>();
00340     <span class="comment">//qDebug() &lt;&lt; distX &lt;&lt; distY;</span>
00341     <span class="keyword">const</span> QPointF pt(qMin(dimX.<a class="code" href="class_k_d_chart_1_1_data_dimension.html#_k_d_chart_1_1_data_dimensiono4">start</a>, dimX.<a class="code" href="class_k_d_chart_1_1_data_dimension.html#_k_d_chart_1_1_data_dimensiono1">end</a>), qMax(dimY.<a class="code" href="class_k_d_chart_1_1_data_dimension.html#_k_d_chart_1_1_data_dimensiono4">start</a>, dimY.<a class="code" href="class_k_d_chart_1_1_data_dimension.html#_k_d_chart_1_1_data_dimensiono1">end</a>));
00342     <span class="keyword">const</span> QSizeF siz( qAbs(distX), -qAbs(distY) );
00343     <span class="keyword">const</span> QRectF dataBoundingRect( pt, siz );
00344     <span class="comment">//qDebug() &lt;&lt; "dataBoundingRect" &lt;&lt; dataBoundingRect;</span>
00345 
00346     <span class="comment">// calculate the remaining rectangle, and use it as the diagram area:</span>
00347     QRectF diagramArea = drawArea;
00348     diagramArea.setTopLeft ( QPointF ( drawArea.left(), drawArea.top() ) );
00349     diagramArea.setBottomRight ( QPointF ( drawArea.right(), drawArea.bottom() ) );
00350 
00351     <span class="comment">// determine coordinate transformation:</span>
00352     QPointF diagramTopLeft = dataBoundingRect.topLeft();
00353     <span class="keywordtype">double</span> diagramWidth = dataBoundingRect.width();
00354     <span class="keywordtype">double</span> diagramHeight = dataBoundingRect.height();
00355     <span class="keywordtype">double</span> planeWidth = diagramArea.width();
00356     <span class="keywordtype">double</span> planeHeight = diagramArea.height();
00357     <span class="keywordtype">double</span> scaleX;
00358     <span class="keywordtype">double</span> scaleY;
00359 
00360     <span class="keywordtype">double</span> diagramXUnitInCoordinatePlane;
00361     <span class="keywordtype">double</span> diagramYUnitInCoordinatePlane;
00362 
00363     diagramXUnitInCoordinatePlane = diagramWidth != 0 ? planeWidth / diagramWidth : 1;
00364     diagramYUnitInCoordinatePlane = diagramHeight != 0 ? planeHeight / diagramHeight : 1;
00365     <span class="comment">// calculate isometric scaling factor to maxscale the diagram into</span>
00366     <span class="comment">// the coordinate system:</span>
00367     <span class="keywordflow">if</span> ( <a class="code" href="_k_d_chart_abstract_area_8cpp.html#a0">d</a>-&gt;isometricScaling )
00368     {
00369         <span class="keywordtype">double</span> scale = qMin ( qAbs ( diagramXUnitInCoordinatePlane ),
00370                               qAbs ( diagramYUnitInCoordinatePlane ) );
00371 
00372         scaleX = qAbs( scale / diagramXUnitInCoordinatePlane );
00373         scaleY = qAbs( scale / diagramYUnitInCoordinatePlane );
00374     } <span class="keywordflow">else</span> {
00375         scaleX = 1.0;
00376         scaleY = 1.0;
00377     }
00378 
00379     <span class="comment">// calculate diagram origin in plane coordinates:</span>
00380     QPointF coordinateOrigin = QPointF (
00381             diagramTopLeft.x() * -diagramXUnitInCoordinatePlane,
00382     diagramTopLeft.y() * -diagramYUnitInCoordinatePlane );
00383     coordinateOrigin += diagramArea.topLeft();
00384 
00385     <a class="code" href="_k_d_chart_abstract_area_8cpp.html#a0">d</a>-&gt;coordinateTransformation.originTranslation = coordinateOrigin;
00386 
00387     <a class="code" href="_k_d_chart_abstract_area_8cpp.html#a0">d</a>-&gt;coordinateTransformation.diagramRect = dataBoundingRect;
00388 
00389     <a class="code" href="_k_d_chart_abstract_area_8cpp.html#a0">d</a>-&gt;coordinateTransformation.unitVectorX = diagramXUnitInCoordinatePlane;
00390     <a class="code" href="_k_d_chart_abstract_area_8cpp.html#a0">d</a>-&gt;coordinateTransformation.unitVectorY = diagramYUnitInCoordinatePlane;
00391 
00392     <a class="code" href="_k_d_chart_abstract_area_8cpp.html#a0">d</a>-&gt;coordinateTransformation.isoScaleX = scaleX;
00393     <a class="code" href="_k_d_chart_abstract_area_8cpp.html#a0">d</a>-&gt;coordinateTransformation.isoScaleY = scaleY;
00394 
00395     <span class="comment">//      adapt diagram area to effect of isometric scaling:</span>
00396     diagramArea.setTopLeft( translate ( dataBoundingRect.topLeft() ) );
00397     diagramArea.setBottomRight ( translate ( dataBoundingRect.bottomRight() ) );
00398 
00399     <span class="comment">//qDebug("KDChart::CartesianCoordinatePlane::layoutDiagrams() done,\ncalling update() now:");</span>
00400     update();
00401 }
00402 
00403 
<a name="l00404"></a><a class="code" href="class_k_d_chart_1_1_cartesian_coordinate_plane.html#_k_d_chart_1_1_cartesian_coordinate_planea80">00404</a> <span class="keyword">const</span> QPointF <a class="code" href="class_k_d_chart_1_1_cartesian_coordinate_plane.html#_k_d_chart_1_1_cartesian_coordinate_planea80">CartesianCoordinatePlane::translate</a>( <span class="keyword">const</span> QPointF&amp; diagramPoint )<span class="keyword"> const</span>
00405 <span class="keyword"></span>{
00406     <span class="comment">// Note: We do not test if the point lays inside of the data area,</span>
00407     <span class="comment">//       but we just apply the transformation calculations to the point.</span>
00408     <span class="comment">//       This allows for basic calculations done by the user, see e.g.</span>
00409     <span class="comment">//       the file  examples/Lines/BubbleChart/mainwindow.cpp</span>
00410     <span class="keywordflow">return</span>  <a class="code" href="_k_d_chart_abstract_area_8cpp.html#a0">d</a>-&gt;coordinateTransformation.translate ( diagramPoint );
00411 }
00412 
<a name="l00413"></a><a class="code" href="class_k_d_chart_1_1_cartesian_coordinate_plane.html#_k_d_chart_1_1_cartesian_coordinate_planeb13">00413</a> <span class="keyword">const</span> QPointF <a class="code" href="class_k_d_chart_1_1_cartesian_coordinate_plane.html#_k_d_chart_1_1_cartesian_coordinate_planeb13">CartesianCoordinatePlane::translateBack</a>( <span class="keyword">const</span> QPointF&amp; screenPoint )<span class="keyword"> const</span>
00414 <span class="keyword"></span>{
00415     <span class="keywordflow">return</span>  <a class="code" href="_k_d_chart_abstract_area_8cpp.html#a0">d</a>-&gt;coordinateTransformation.translateBack ( screenPoint );
00416 }
00417 
<a name="l00418"></a><a class="code" href="class_k_d_chart_1_1_cartesian_coordinate_plane.html#_k_d_chart_1_1_cartesian_coordinate_planea66">00418</a> <span class="keywordtype">void</span> <a class="code" href="class_k_d_chart_1_1_cartesian_coordinate_plane.html#_k_d_chart_1_1_cartesian_coordinate_planea66">CartesianCoordinatePlane::setIsometricScaling</a> ( <span class="keywordtype">bool</span> onOff )
00419 {
00420     <span class="keywordflow">if</span> ( <a class="code" href="_k_d_chart_abstract_area_8cpp.html#a0">d</a>-&gt;isometricScaling != onOff )
00421     {
00422         <a class="code" href="_k_d_chart_abstract_area_8cpp.html#a0">d</a>-&gt;isometricScaling = onOff;
00423         <a class="code" href="class_k_d_chart_1_1_cartesian_coordinate_plane.html#_k_d_chart_1_1_cartesian_coordinate_planeb10">layoutDiagrams</a>();
00424         emit <a class="code" href="class_k_d_chart_1_1_abstract_coordinate_plane.html#_k_d_chart_1_1_polar_coordinate_planea38">propertiesChanged</a>();
00425     }
00426 }
00427 
<a name="l00428"></a><a class="code" href="class_k_d_chart_1_1_cartesian_coordinate_plane.html#_k_d_chart_1_1_cartesian_coordinate_planea16">00428</a> <span class="keywordtype">bool</span> <a class="code" href="class_k_d_chart_1_1_cartesian_coordinate_plane.html#_k_d_chart_1_1_cartesian_coordinate_planea16">CartesianCoordinatePlane::doesIsometricScaling</a> ()<span class="keyword"> const</span>
00429 <span class="keyword"></span>{
00430     <span class="keywordflow">return</span> <a class="code" href="_k_d_chart_abstract_area_8cpp.html#a0">d</a>-&gt;isometricScaling;
00431 }
00432 
<a name="l00433"></a><a class="code" href="class_k_d_chart_1_1_cartesian_coordinate_plane.html#_k_d_chart_1_1_cartesian_coordinate_planeb4">00433</a> <span class="keywordtype">bool</span> <a class="code" href="class_k_d_chart_1_1_cartesian_coordinate_plane.html#_k_d_chart_1_1_cartesian_coordinate_planeb4">CartesianCoordinatePlane::doneSetZoomFactorX</a>( <span class="keywordtype">double</span> factor )
00434 {
00435     <span class="keywordtype">bool</span> bDone = ( <a class="code" href="_k_d_chart_abstract_area_8cpp.html#a0">d</a>-&gt;coordinateTransformation.zoom.xFactor != factor );
00436     <span class="keywordflow">if</span>( bDone ){
00437         <a class="code" href="_k_d_chart_abstract_area_8cpp.html#a0">d</a>-&gt;coordinateTransformation.zoom.xFactor = factor;
00438         <span class="keywordflow">if</span>( <a class="code" href="_k_d_chart_abstract_area_8cpp.html#a0">d</a>-&gt;autoAdjustGridToZoom )
00439             <a class="code" href="_k_d_chart_abstract_area_8cpp.html#a0">d</a>-&gt;grid-&gt;setNeedRecalculate();
00440     }
00441     <span class="keywordflow">return</span> bDone;
00442 }
00443 
<a name="l00444"></a><a class="code" href="class_k_d_chart_1_1_cartesian_coordinate_plane.html#_k_d_chart_1_1_cartesian_coordinate_planeb5">00444</a> <span class="keywordtype">bool</span> <a class="code" href="class_k_d_chart_1_1_cartesian_coordinate_plane.html#_k_d_chart_1_1_cartesian_coordinate_planeb5">CartesianCoordinatePlane::doneSetZoomFactorY</a>( <span class="keywordtype">double</span> factor )
00445 {
00446     <span class="keywordtype">bool</span> bDone = ( <a class="code" href="_k_d_chart_abstract_area_8cpp.html#a0">d</a>-&gt;coordinateTransformation.zoom.yFactor != factor );
00447     <span class="keywordflow">if</span>( bDone ){
00448         <a class="code" href="_k_d_chart_abstract_area_8cpp.html#a0">d</a>-&gt;coordinateTransformation.zoom.yFactor = factor;
00449         <span class="keywordflow">if</span>( <a class="code" href="_k_d_chart_abstract_area_8cpp.html#a0">d</a>-&gt;autoAdjustGridToZoom )
00450             <a class="code" href="_k_d_chart_abstract_area_8cpp.html#a0">d</a>-&gt;grid-&gt;setNeedRecalculate();
00451     }
00452     <span class="keywordflow">return</span> bDone;
00453 }
00454 
<a name="l00455"></a><a class="code" href="class_k_d_chart_1_1_cartesian_coordinate_plane.html#_k_d_chart_1_1_cartesian_coordinate_planeb3">00455</a> <span class="keywordtype">bool</span> <a class="code" href="class_k_d_chart_1_1_cartesian_coordinate_plane.html#_k_d_chart_1_1_cartesian_coordinate_planeb3">CartesianCoordinatePlane::doneSetZoomCenter</a>( QPointF point )
00456 {
00457     <span class="keywordtype">bool</span> bDone = ( <a class="code" href="_k_d_chart_abstract_area_8cpp.html#a0">d</a>-&gt;coordinateTransformation.zoom.center() != point );
00458     <span class="keywordflow">if</span>( bDone ){
00459         <a class="code" href="_k_d_chart_abstract_area_8cpp.html#a0">d</a>-&gt;coordinateTransformation.zoom.setCenter( point );
00460         <span class="keywordflow">if</span>( <a class="code" href="_k_d_chart_abstract_area_8cpp.html#a0">d</a>-&gt;autoAdjustGridToZoom )
00461             <a class="code" href="_k_d_chart_abstract_area_8cpp.html#a0">d</a>-&gt;grid-&gt;setNeedRecalculate();
00462     }
00463     <span class="keywordflow">return</span> bDone;
00464 }
00465 
<a name="l00466"></a><a class="code" href="class_k_d_chart_1_1_cartesian_coordinate_plane.html#_k_d_chart_1_1_cartesian_coordinate_planea73">00466</a> <span class="keywordtype">void</span> <a class="code" href="class_k_d_chart_1_1_cartesian_coordinate_plane.html#_k_d_chart_1_1_cartesian_coordinate_planea73">CartesianCoordinatePlane::setZoomFactorX</a>( <span class="keywordtype">double</span> factor )
00467 {
00468     <span class="keywordflow">if</span>( <a class="code" href="class_k_d_chart_1_1_cartesian_coordinate_plane.html#_k_d_chart_1_1_cartesian_coordinate_planeb4">doneSetZoomFactorX</a>( factor ) ){
00469         emit <a class="code" href="class_k_d_chart_1_1_abstract_coordinate_plane.html#_k_d_chart_1_1_polar_coordinate_planea38">propertiesChanged</a>();
00470     }
00471 }
00472 
<a name="l00473"></a><a class="code" href="class_k_d_chart_1_1_cartesian_coordinate_plane.html#_k_d_chart_1_1_cartesian_coordinate_planea74">00473</a> <span class="keywordtype">void</span> <a class="code" href="class_k_d_chart_1_1_cartesian_coordinate_plane.html#_k_d_chart_1_1_cartesian_coordinate_planea74">CartesianCoordinatePlane::setZoomFactorY</a>( <span class="keywordtype">double</span> factor )
00474 {
00475     <span class="keywordflow">if</span>( <a class="code" href="class_k_d_chart_1_1_cartesian_coordinate_plane.html#_k_d_chart_1_1_cartesian_coordinate_planeb5">doneSetZoomFactorY</a>( factor ) ){
00476         emit <a class="code" href="class_k_d_chart_1_1_abstract_coordinate_plane.html#_k_d_chart_1_1_polar_coordinate_planea38">propertiesChanged</a>();
00477     }
00478 }
00479 
<a name="l00480"></a><a class="code" href="class_k_d_chart_1_1_cartesian_coordinate_plane.html#_k_d_chart_1_1_cartesian_coordinate_planea72">00480</a> <span class="keywordtype">void</span> <a class="code" href="class_k_d_chart_1_1_cartesian_coordinate_plane.html#_k_d_chart_1_1_cartesian_coordinate_planea72">CartesianCoordinatePlane::setZoomCenter</a>( QPointF point )
00481 {
00482     <span class="keywordflow">if</span>( <a class="code" href="class_k_d_chart_1_1_cartesian_coordinate_plane.html#_k_d_chart_1_1_cartesian_coordinate_planeb3">doneSetZoomCenter</a>( point ) ){
00483         emit <a class="code" href="class_k_d_chart_1_1_abstract_coordinate_plane.html#_k_d_chart_1_1_polar_coordinate_planea38">propertiesChanged</a>();
00484     }
00485 }
00486 
<a name="l00487"></a><a class="code" href="class_k_d_chart_1_1_cartesian_coordinate_plane.html#_k_d_chart_1_1_cartesian_coordinate_planea82">00487</a> QPointF <a class="code" href="class_k_d_chart_1_1_cartesian_coordinate_plane.html#_k_d_chart_1_1_cartesian_coordinate_planea82">CartesianCoordinatePlane::zoomCenter</a>()<span class="keyword"> const</span>
00488 <span class="keyword"></span>{
00489     <span class="keywordflow">return</span> <a class="code" href="_k_d_chart_abstract_area_8cpp.html#a0">d</a>-&gt;coordinateTransformation.zoom.center();
00490 }
00491 
<a name="l00492"></a><a class="code" href="class_k_d_chart_1_1_cartesian_coordinate_plane.html#_k_d_chart_1_1_cartesian_coordinate_planea83">00492</a> <span class="keywordtype">double</span> <a class="code" href="class_k_d_chart_1_1_cartesian_coordinate_plane.html#_k_d_chart_1_1_cartesian_coordinate_planea83">CartesianCoordinatePlane::zoomFactorX</a>()<span class="keyword"> const</span>
00493 <span class="keyword"></span>{
00494     <span class="keywordflow">return</span> <a class="code" href="_k_d_chart_abstract_area_8cpp.html#a0">d</a>-&gt;coordinateTransformation.zoom.xFactor;
00495 }
00496 
<a name="l00497"></a><a class="code" href="class_k_d_chart_1_1_cartesian_coordinate_plane.html#_k_d_chart_1_1_cartesian_coordinate_planea84">00497</a> <span class="keywordtype">double</span> <a class="code" href="class_k_d_chart_1_1_cartesian_coordinate_plane.html#_k_d_chart_1_1_cartesian_coordinate_planea84">CartesianCoordinatePlane::zoomFactorY</a>()<span class="keyword"> const</span>
00498 <span class="keyword"></span>{
00499     <span class="keywordflow">return</span> <a class="code" href="_k_d_chart_abstract_area_8cpp.html#a0">d</a>-&gt;coordinateTransformation.zoom.yFactor;
00500 }
00501 
00502 
<a name="l00503"></a><a class="code" href="class_k_d_chart_1_1_cartesian_coordinate_plane.html#_k_d_chart_1_1_cartesian_coordinate_planea8">00503</a> CartesianCoordinatePlane::AxesCalcMode <a class="code" href="class_k_d_chart_1_1_cartesian_coordinate_plane.html#_k_d_chart_1_1_cartesian_coordinate_planea8">CartesianCoordinatePlane::axesCalcModeY</a>()<span class="keyword"> const</span>
00504 <span class="keyword"></span>{
00505     <span class="keywordflow">return</span> <a class="code" href="_k_d_chart_abstract_area_8cpp.html#a0">d</a>-&gt;coordinateTransformation.axesCalcModeY;
00506 }
00507 
<a name="l00508"></a><a class="code" href="class_k_d_chart_1_1_cartesian_coordinate_plane.html#_k_d_chart_1_1_cartesian_coordinate_planea7">00508</a> CartesianCoordinatePlane::AxesCalcMode <a class="code" href="class_k_d_chart_1_1_cartesian_coordinate_plane.html#_k_d_chart_1_1_cartesian_coordinate_planea7">CartesianCoordinatePlane::axesCalcModeX</a>()<span class="keyword"> const</span>
00509 <span class="keyword"></span>{
00510     <span class="keywordflow">return</span> <a class="code" href="_k_d_chart_abstract_area_8cpp.html#a0">d</a>-&gt;coordinateTransformation.axesCalcModeX;
00511 }
00512 
<a name="l00513"></a><a class="code" href="class_k_d_chart_1_1_cartesian_coordinate_plane.html#_k_d_chart_1_1_cartesian_coordinate_planea56">00513</a> <span class="keywordtype">void</span> <a class="code" href="class_k_d_chart_1_1_cartesian_coordinate_plane.html#_k_d_chart_1_1_cartesian_coordinate_planea56">CartesianCoordinatePlane::setAxesCalcModes</a>( AxesCalcMode mode )
00514 {
00515     <span class="keywordflow">if</span>( <a class="code" href="_k_d_chart_abstract_area_8cpp.html#a0">d</a>-&gt;coordinateTransformation.axesCalcModeY != mode ||
00516         <a class="code" href="_k_d_chart_abstract_area_8cpp.html#a0">d</a>-&gt;coordinateTransformation.axesCalcModeX != mode ){
00517         <a class="code" href="_k_d_chart_abstract_area_8cpp.html#a0">d</a>-&gt;coordinateTransformation.axesCalcModeY = mode;
00518         <a class="code" href="_k_d_chart_abstract_area_8cpp.html#a0">d</a>-&gt;coordinateTransformation.axesCalcModeX = mode;
00519         emit <a class="code" href="class_k_d_chart_1_1_abstract_coordinate_plane.html#_k_d_chart_1_1_polar_coordinate_planea38">propertiesChanged</a>();
00520     }
00521 }
00522 
<a name="l00523"></a><a class="code" href="class_k_d_chart_1_1_cartesian_coordinate_plane.html#_k_d_chart_1_1_cartesian_coordinate_planea58">00523</a> <span class="keywordtype">void</span> <a class="code" href="class_k_d_chart_1_1_cartesian_coordinate_plane.html#_k_d_chart_1_1_cartesian_coordinate_planea58">CartesianCoordinatePlane::setAxesCalcModeY</a>( AxesCalcMode mode )
00524 {
00525     <span class="keywordflow">if</span>( <a class="code" href="_k_d_chart_abstract_area_8cpp.html#a0">d</a>-&gt;coordinateTransformation.axesCalcModeY != mode ){
00526         <a class="code" href="_k_d_chart_abstract_area_8cpp.html#a0">d</a>-&gt;coordinateTransformation.axesCalcModeY = mode;
00527         emit <a class="code" href="class_k_d_chart_1_1_abstract_coordinate_plane.html#_k_d_chart_1_1_polar_coordinate_planea38">propertiesChanged</a>();
00528     }
00529 }
00530 
<a name="l00531"></a><a class="code" href="class_k_d_chart_1_1_cartesian_coordinate_plane.html#_k_d_chart_1_1_cartesian_coordinate_planea57">00531</a> <span class="keywordtype">void</span> <a class="code" href="class_k_d_chart_1_1_cartesian_coordinate_plane.html#_k_d_chart_1_1_cartesian_coordinate_planea57">CartesianCoordinatePlane::setAxesCalcModeX</a>( AxesCalcMode mode )
00532 {
00533     <span class="keywordflow">if</span>( <a class="code" href="_k_d_chart_abstract_area_8cpp.html#a0">d</a>-&gt;coordinateTransformation.axesCalcModeX != mode ){
00534         <a class="code" href="_k_d_chart_abstract_area_8cpp.html#a0">d</a>-&gt;coordinateTransformation.axesCalcModeX = mode;
00535         emit <a class="code" href="class_k_d_chart_1_1_abstract_coordinate_plane.html#_k_d_chart_1_1_polar_coordinate_planea38">propertiesChanged</a>();
00536     }
00537 }
00538 
<a name="l00539"></a><a class="code" href="class_k_d_chart_1_1_cartesian_coordinate_plane.html#_k_d_chart_1_1_cartesian_coordinate_planea65">00539</a> <span class="keywordtype">void</span> <a class="code" href="class_k_d_chart_1_1_cartesian_coordinate_plane.html#_k_d_chart_1_1_cartesian_coordinate_planea65">KDChart::CartesianCoordinatePlane::setHorizontalRange</a>( <span class="keyword">const</span> QPair&lt; qreal, qreal &gt; &amp; range )
00540 {
00541     <span class="keywordflow">if</span> ( <a class="code" href="_k_d_chart_abstract_area_8cpp.html#a0">d</a>-&gt;horizontalMin != range.first || <a class="code" href="_k_d_chart_abstract_area_8cpp.html#a0">d</a>-&gt;horizontalMax != range.second ) {
00542         <a class="code" href="_k_d_chart_abstract_area_8cpp.html#a0">d</a>-&gt;autoAdjustHorizontalRangeToData = 100;
00543         <a class="code" href="_k_d_chart_abstract_area_8cpp.html#a0">d</a>-&gt;horizontalMin = range.first;
00544         <a class="code" href="_k_d_chart_abstract_area_8cpp.html#a0">d</a>-&gt;horizontalMax = range.second;
00545         <a class="code" href="class_k_d_chart_1_1_cartesian_coordinate_plane.html#_k_d_chart_1_1_cartesian_coordinate_planeb10">layoutDiagrams</a>();
00546         emit <a class="code" href="class_k_d_chart_1_1_abstract_coordinate_plane.html#_k_d_chart_1_1_polar_coordinate_planea38">propertiesChanged</a>();
00547     }
00548 }
00549 
<a name="l00550"></a><a class="code" href="class_k_d_chart_1_1_cartesian_coordinate_plane.html#_k_d_chart_1_1_cartesian_coordinate_planea71">00550</a> <span class="keywordtype">void</span> <a class="code" href="class_k_d_chart_1_1_cartesian_coordinate_plane.html#_k_d_chart_1_1_cartesian_coordinate_planea71">KDChart::CartesianCoordinatePlane::setVerticalRange</a>( <span class="keyword">const</span> QPair&lt; qreal, qreal &gt; &amp; range )
00551 {
00552 
00553     <span class="keywordflow">if</span> ( <a class="code" href="_k_d_chart_abstract_area_8cpp.html#a0">d</a>-&gt;verticalMin != range.first || <a class="code" href="_k_d_chart_abstract_area_8cpp.html#a0">d</a>-&gt;verticalMax != range.second ) {
00554         <a class="code" href="_k_d_chart_abstract_area_8cpp.html#a0">d</a>-&gt;autoAdjustVerticalRangeToData = 100;
00555         <a class="code" href="_k_d_chart_abstract_area_8cpp.html#a0">d</a>-&gt;verticalMin = range.first;
00556         <a class="code" href="_k_d_chart_abstract_area_8cpp.html#a0">d</a>-&gt;verticalMax = range.second;
00557         <a class="code" href="class_k_d_chart_1_1_cartesian_coordinate_plane.html#_k_d_chart_1_1_cartesian_coordinate_planeb10">layoutDiagrams</a>();
00558         emit <a class="code" href="class_k_d_chart_1_1_abstract_coordinate_plane.html#_k_d_chart_1_1_polar_coordinate_planea38">propertiesChanged</a>();
00559     }
00560 }
00561 
<a name="l00562"></a><a class="code" href="class_k_d_chart_1_1_cartesian_coordinate_plane.html#_k_d_chart_1_1_cartesian_coordinate_planea25">00562</a> QPair&lt; qreal, qreal &gt; <a class="code" href="class_k_d_chart_1_1_cartesian_coordinate_plane.html#_k_d_chart_1_1_cartesian_coordinate_planea25">KDChart::CartesianCoordinatePlane::horizontalRange</a>( )<span class="keyword"> const</span>
00563 <span class="keyword"></span>{
00564     <span class="keywordflow">return</span> QPair&lt;qreal, qreal&gt;( <a class="code" href="_k_d_chart_abstract_area_8cpp.html#a0">d</a>-&gt;horizontalMin, <a class="code" href="_k_d_chart_abstract_area_8cpp.html#a0">d</a>-&gt;horizontalMax );
00565 }
00566 
<a name="l00567"></a><a class="code" href="class_k_d_chart_1_1_cartesian_coordinate_plane.html#_k_d_chart_1_1_cartesian_coordinate_planea81">00567</a> QPair&lt; qreal, qreal &gt; <a class="code" href="class_k_d_chart_1_1_cartesian_coordinate_plane.html#_k_d_chart_1_1_cartesian_coordinate_planea81">KDChart::CartesianCoordinatePlane::verticalRange</a>( )<span class="keyword"> const</span>
00568 <span class="keyword"></span>{
00569     <span class="keywordflow">return</span> QPair&lt;qreal, qreal&gt;( <a class="code" href="_k_d_chart_abstract_area_8cpp.html#a0">d</a>-&gt;verticalMin, <a class="code" href="_k_d_chart_abstract_area_8cpp.html#a0">d</a>-&gt;verticalMax );
00570 }
00571 
00572 <span class="keywordtype">void</span> CartesianCoordinatePlane::adjustRangesToData()
00573 {
00574     <span class="keyword">const</span> QRectF dataBoundingRect( <a class="code" href="class_k_d_chart_1_1_cartesian_coordinate_plane.html#_k_d_chart_1_1_cartesian_coordinate_planeb8">getRawDataBoundingRectFromDiagrams</a>() );
00575     <a class="code" href="_k_d_chart_abstract_area_8cpp.html#a0">d</a>-&gt;horizontalMin = dataBoundingRect.left();
00576     <a class="code" href="_k_d_chart_abstract_area_8cpp.html#a0">d</a>-&gt;horizontalMax = dataBoundingRect.right();
00577     <a class="code" href="_k_d_chart_abstract_area_8cpp.html#a0">d</a>-&gt;verticalMin = dataBoundingRect.top();
00578     <a class="code" href="_k_d_chart_abstract_area_8cpp.html#a0">d</a>-&gt;verticalMax = dataBoundingRect.bottom();
00579     <a class="code" href="class_k_d_chart_1_1_cartesian_coordinate_plane.html#_k_d_chart_1_1_cartesian_coordinate_planeb10">layoutDiagrams</a>();
00580     emit <a class="code" href="class_k_d_chart_1_1_abstract_coordinate_plane.html#_k_d_chart_1_1_polar_coordinate_planea38">propertiesChanged</a>();
00581 }
00582 
<a name="l00583"></a><a class="code" href="class_k_d_chart_1_1_cartesian_coordinate_plane.html#_k_d_chart_1_1_cartesian_coordinate_planea1">00583</a> <span class="keywordtype">void</span> <a class="code" href="class_k_d_chart_1_1_cartesian_coordinate_plane.html#_k_d_chart_1_1_cartesian_coordinate_planea1">CartesianCoordinatePlane::adjustHorizontalRangeToData</a>()
00584 {
00585     <span class="keyword">const</span> QRectF dataBoundingRect( <a class="code" href="class_k_d_chart_1_1_cartesian_coordinate_plane.html#_k_d_chart_1_1_cartesian_coordinate_planeb8">getRawDataBoundingRectFromDiagrams</a>() );
00586     <a class="code" href="_k_d_chart_abstract_area_8cpp.html#a0">d</a>-&gt;horizontalMin = dataBoundingRect.left();
00587     <a class="code" href="_k_d_chart_abstract_area_8cpp.html#a0">d</a>-&gt;horizontalMax = dataBoundingRect.right();
00588     <a class="code" href="class_k_d_chart_1_1_cartesian_coordinate_plane.html#_k_d_chart_1_1_cartesian_coordinate_planeb10">layoutDiagrams</a>();
00589     emit <a class="code" href="class_k_d_chart_1_1_abstract_coordinate_plane.html#_k_d_chart_1_1_polar_coordinate_planea38">propertiesChanged</a>();
00590 }
00591 
<a name="l00592"></a><a class="code" href="class_k_d_chart_1_1_cartesian_coordinate_plane.html#_k_d_chart_1_1_cartesian_coordinate_planea2">00592</a> <span class="keywordtype">void</span> <a class="code" href="class_k_d_chart_1_1_cartesian_coordinate_plane.html#_k_d_chart_1_1_cartesian_coordinate_planea2">CartesianCoordinatePlane::adjustVerticalRangeToData</a>()
00593 {
00594     <span class="keyword">const</span> QRectF dataBoundingRect( <a class="code" href="class_k_d_chart_1_1_cartesian_coordinate_plane.html#_k_d_chart_1_1_cartesian_coordinate_planeb8">getRawDataBoundingRectFromDiagrams</a>() );
00595     <a class="code" href="_k_d_chart_abstract_area_8cpp.html#a0">d</a>-&gt;verticalMin = dataBoundingRect.bottom();
00596     <a class="code" href="_k_d_chart_abstract_area_8cpp.html#a0">d</a>-&gt;verticalMax = dataBoundingRect.top();
00597     <a class="code" href="class_k_d_chart_1_1_cartesian_coordinate_plane.html#_k_d_chart_1_1_cartesian_coordinate_planeb10">layoutDiagrams</a>();
00598     emit <a class="code" href="class_k_d_chart_1_1_abstract_coordinate_plane.html#_k_d_chart_1_1_polar_coordinate_planea38">propertiesChanged</a>();
00599 }
00600 
<a name="l00601"></a><a class="code" href="class_k_d_chart_1_1_cartesian_coordinate_plane.html#_k_d_chart_1_1_cartesian_coordinate_planea54">00601</a> <span class="keywordtype">void</span> <a class="code" href="class_k_d_chart_1_1_cartesian_coordinate_plane.html#_k_d_chart_1_1_cartesian_coordinate_planea54">CartesianCoordinatePlane::setAutoAdjustHorizontalRangeToData</a>( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> percentEmpty )
00602 {
00603     <a class="code" href="_k_d_chart_abstract_area_8cpp.html#a0">d</a>-&gt;autoAdjustHorizontalRangeToData = percentEmpty;
00604     <a class="code" href="_k_d_chart_abstract_area_8cpp.html#a0">d</a>-&gt;horizontalMin = 0.0;
00605     <a class="code" href="_k_d_chart_abstract_area_8cpp.html#a0">d</a>-&gt;horizontalMax = 0.0;
00606     <a class="code" href="class_k_d_chart_1_1_cartesian_coordinate_plane.html#_k_d_chart_1_1_cartesian_coordinate_planeb10">layoutDiagrams</a>();
00607     emit <a class="code" href="class_k_d_chart_1_1_abstract_coordinate_plane.html#_k_d_chart_1_1_polar_coordinate_planea38">propertiesChanged</a>();
00608 }
00609 
<a name="l00610"></a><a class="code" href="class_k_d_chart_1_1_cartesian_coordinate_plane.html#_k_d_chart_1_1_cartesian_coordinate_planea55">00610</a> <span class="keywordtype">void</span> <a class="code" href="class_k_d_chart_1_1_cartesian_coordinate_plane.html#_k_d_chart_1_1_cartesian_coordinate_planea55">CartesianCoordinatePlane::setAutoAdjustVerticalRangeToData</a>( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> percentEmpty )
00611 {
00612     <a class="code" href="_k_d_chart_abstract_area_8cpp.html#a0">d</a>-&gt;autoAdjustVerticalRangeToData = percentEmpty;
00613     <a class="code" href="_k_d_chart_abstract_area_8cpp.html#a0">d</a>-&gt;verticalMin = 0.0;
00614     <a class="code" href="_k_d_chart_abstract_area_8cpp.html#a0">d</a>-&gt;verticalMax = 0.0;
00615     <a class="code" href="class_k_d_chart_1_1_cartesian_coordinate_plane.html#_k_d_chart_1_1_cartesian_coordinate_planeb10">layoutDiagrams</a>();
00616     emit <a class="code" href="class_k_d_chart_1_1_abstract_coordinate_plane.html#_k_d_chart_1_1_polar_coordinate_planea38">propertiesChanged</a>();
00617 }
00618 
<a name="l00619"></a><a class="code" href="class_k_d_chart_1_1_cartesian_coordinate_plane.html#_k_d_chart_1_1_cartesian_coordinate_planea5">00619</a> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="class_k_d_chart_1_1_cartesian_coordinate_plane.html#_k_d_chart_1_1_cartesian_coordinate_planea5">CartesianCoordinatePlane::autoAdjustHorizontalRangeToData</a>()<span class="keyword"> const</span>
00620 <span class="keyword"></span>{
00621     <span class="keywordflow">return</span> <a class="code" href="_k_d_chart_abstract_area_8cpp.html#a0">d</a>-&gt;autoAdjustHorizontalRangeToData;
00622 }
00623 
<a name="l00624"></a><a class="code" href="class_k_d_chart_1_1_cartesian_coordinate_plane.html#_k_d_chart_1_1_cartesian_coordinate_planea6">00624</a> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="class_k_d_chart_1_1_cartesian_coordinate_plane.html#_k_d_chart_1_1_cartesian_coordinate_planea6">CartesianCoordinatePlane::autoAdjustVerticalRangeToData</a>()<span class="keyword"> const</span>
00625 <span class="keyword"></span>{
00626     <span class="keywordflow">return</span> <a class="code" href="_k_d_chart_abstract_area_8cpp.html#a0">d</a>-&gt;autoAdjustVerticalRangeToData;
00627 }
00628 
00629 
<a name="l00630"></a><a class="code" href="class_k_d_chart_1_1_cartesian_coordinate_plane.html#_k_d_chart_1_1_cartesian_coordinate_planea63">00630</a> <span class="keywordtype">void</span> <a class="code" href="class_k_d_chart_1_1_cartesian_coordinate_plane.html#_k_d_chart_1_1_cartesian_coordinate_planea63">KDChart::CartesianCoordinatePlane::setGridAttributes</a>(
00631     Qt::Orientation orientation,
00632     <span class="keyword">const</span> <a class="code" href="class_k_d_chart_1_1_grid_attributes.html">GridAttributes</a>&amp; a )
00633 {
00634     <span class="keywordflow">if</span>( orientation == Qt::Horizontal )
00635         <a class="code" href="_k_d_chart_abstract_area_8cpp.html#a0">d</a>-&gt;gridAttributesHorizontal = a;
00636     <span class="keywordflow">else</span>
00637         <a class="code" href="_k_d_chart_abstract_area_8cpp.html#a0">d</a>-&gt;gridAttributesVertical = a;
00638     setHasOwnGridAttributes( orientation, <span class="keyword">true</span> );
00639     update();
00640     emit <a class="code" href="class_k_d_chart_1_1_abstract_coordinate_plane.html#_k_d_chart_1_1_polar_coordinate_planea38">propertiesChanged</a>();
00641 }
00642 
<a name="l00643"></a><a class="code" href="class_k_d_chart_1_1_cartesian_coordinate_plane.html#_k_d_chart_1_1_cartesian_coordinate_planea51">00643</a> <span class="keywordtype">void</span> <a class="code" href="class_k_d_chart_1_1_cartesian_coordinate_plane.html#_k_d_chart_1_1_cartesian_coordinate_planea51">KDChart::CartesianCoordinatePlane::resetGridAttributes</a>(
00644     Qt::Orientation orientation )
00645 {
00646     setHasOwnGridAttributes( orientation, <span class="keyword">false</span> );
00647     update();
00648 }
00649 
<a name="l00650"></a><a class="code" href="class_k_d_chart_1_1_cartesian_coordinate_plane.html#_k_d_chart_1_1_cartesian_coordinate_planea22">00650</a> <span class="keyword">const</span> <a class="code" href="class_k_d_chart_1_1_grid_attributes.html">GridAttributes</a> <a class="code" href="class_k_d_chart_1_1_cartesian_coordinate_plane.html#_k_d_chart_1_1_cartesian_coordinate_planea22">KDChart::CartesianCoordinatePlane::gridAttributes</a>(
00651     Qt::Orientation orientation )<span class="keyword"> const</span>
00652 <span class="keyword"></span>{
00653     <span class="keywordflow">if</span>( <a class="code" href="class_k_d_chart_1_1_cartesian_coordinate_plane.html#_k_d_chart_1_1_cartesian_coordinate_planea24">hasOwnGridAttributes</a>( orientation ) ){
00654         <span class="keywordflow">if</span>( orientation == Qt::Horizontal )
00655             <span class="keywordflow">return</span> <a class="code" href="_k_d_chart_abstract_area_8cpp.html#a0">d</a>-&gt;gridAttributesHorizontal;
00656         <span class="keywordflow">else</span>
00657             <span class="keywordflow">return</span> <a class="code" href="_k_d_chart_abstract_area_8cpp.html#a0">d</a>-&gt;gridAttributesVertical;
00658     }<span class="keywordflow">else</span>{
00659         <span class="keywordflow">return</span> <a class="code" href="class_k_d_chart_1_1_abstract_coordinate_plane.html#_k_d_chart_1_1_polar_coordinate_planea13">globalGridAttributes</a>();
00660     }
00661 }
00662 
00663 <span class="keywordtype">void</span> KDChart::CartesianCoordinatePlane::setHasOwnGridAttributes(
00664     Qt::Orientation orientation, <span class="keywordtype">bool</span> on )
00665 {
00666     <span class="keywordflow">if</span>( orientation == Qt::Horizontal )
00667         <a class="code" href="_k_d_chart_abstract_area_8cpp.html#a0">d</a>-&gt;hasOwnGridAttributesHorizontal = on;
00668     <span class="keywordflow">else</span>
00669         <a class="code" href="_k_d_chart_abstract_area_8cpp.html#a0">d</a>-&gt;hasOwnGridAttributesVertical = on;
00670     emit <a class="code" href="class_k_d_chart_1_1_abstract_coordinate_plane.html#_k_d_chart_1_1_polar_coordinate_planea38">propertiesChanged</a>();
00671 }
00672 
<a name="l00673"></a><a class="code" href="class_k_d_chart_1_1_cartesian_coordinate_plane.html#_k_d_chart_1_1_cartesian_coordinate_planea24">00673</a> <span class="keywordtype">bool</span> <a class="code" href="class_k_d_chart_1_1_cartesian_coordinate_plane.html#_k_d_chart_1_1_cartesian_coordinate_planea24">KDChart::CartesianCoordinatePlane::hasOwnGridAttributes</a>(
00674     Qt::Orientation orientation )<span class="keyword"> const</span>
00675 <span class="keyword"></span>{
00676     <span class="keywordflow">return</span>
00677         ( orientation == Qt::Horizontal )
00678         ? <a class="code" href="_k_d_chart_abstract_area_8cpp.html#a0">d</a>-&gt;hasOwnGridAttributesHorizontal
00679         : <a class="code" href="_k_d_chart_abstract_area_8cpp.html#a0">d</a>-&gt;hasOwnGridAttributesVertical;
00680 }
00681 
<a name="l00682"></a><a class="code" href="class_k_d_chart_1_1_cartesian_coordinate_plane.html#_k_d_chart_1_1_cartesian_coordinate_planea53">00682</a> <span class="keywordtype">void</span> <a class="code" href="class_k_d_chart_1_1_cartesian_coordinate_plane.html#_k_d_chart_1_1_cartesian_coordinate_planea53">KDChart::CartesianCoordinatePlane::setAutoAdjustGridToZoom</a>( <span class="keywordtype">bool</span> autoAdjust )
00683 {
00684     <span class="keywordflow">if</span>( <a class="code" href="_k_d_chart_abstract_area_8cpp.html#a0">d</a>-&gt;autoAdjustGridToZoom != autoAdjust ){
00685         <a class="code" href="_k_d_chart_abstract_area_8cpp.html#a0">d</a>-&gt;autoAdjustGridToZoom = autoAdjust;
00686         <a class="code" href="_k_d_chart_abstract_area_8cpp.html#a0">d</a>-&gt;grid-&gt;setNeedRecalculate();
00687         emit <a class="code" href="class_k_d_chart_1_1_abstract_coordinate_plane.html#_k_d_chart_1_1_polar_coordinate_planea38">propertiesChanged</a>();
00688     }
00689 }
00690 
<a name="l00691"></a><a class="code" href="class_k_d_chart_1_1_cartesian_coordinate_plane.html#_k_d_chart_1_1_cartesian_coordinate_planea4">00691</a> <span class="keyword">const</span> <span class="keywordtype">bool</span> <a class="code" href="class_k_d_chart_1_1_cartesian_coordinate_plane.html#_k_d_chart_1_1_cartesian_coordinate_planea4">KDChart::CartesianCoordinatePlane::autoAdjustGridToZoom</a>()<span class="keyword"> const</span>
00692 <span class="keyword"></span>{
00693     <span class="keywordflow">return</span> <a class="code" href="_k_d_chart_abstract_area_8cpp.html#a0">d</a>-&gt;autoAdjustGridToZoom;
00694 }
00695 
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Thu May 10 11:06:25 2007 for KD Chart 2 by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 > </a>1.3.6 </small></address>
</body>
</html>
