<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>KD Chart 2: KDChart::AbstractProxyModel class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.6 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="namespacemembers.html">Namespace&nbsp;Members</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a></div>
<h1>KDChart::AbstractProxyModel Class Reference</h1><code>#include &lt;<a class="el" href="_k_d_chart_abstract_proxy_model_8h-source.html">KDChartAbstractProxyModel.h</a>&gt;</code>
<p>
Inheritance diagram for KDChart::AbstractProxyModel:<center><font size="2">[<a href="graph_legend.html">legend</a>]</font></center>Collaboration diagram for KDChart::AbstractProxyModel:<center><font size="2">[<a href="graph_legend.html">legend</a>]</font></center><a href="class_k_d_chart_1_1_abstract_proxy_model-members.html">List of all members.</a><table border=0 cellpadding=0 cellspacing=0>
<tr><td></td></tr>
<tr><td colspan=2><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="class_k_d_chart_1_1_abstract_proxy_model.html#_k_d_chart_1_1_abstract_proxy_modela0">AbstractProxyModel</a> (<a class="el" href="class_q_object.html">QObject</a> *parent=0)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This is basically KDAbstractProxyModel, but only the bits that we really need from it.  <a href="#_k_d_chart_1_1_abstract_proxy_modela0"></a><br><br></td></tr>
<tr><td class="memItemLeft" nowrap align=right valign=top>QModelIndex&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="class_k_d_chart_1_1_abstract_proxy_model.html#_k_d_chart_1_1_private_attributes_modela7">index</a> (int row, int col, const QModelIndex &amp;index) const </td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>QModelIndex&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="class_k_d_chart_1_1_abstract_proxy_model.html#_k_d_chart_1_1_private_attributes_modela10">mapFromSource</a> (const QModelIndex &amp;sourceIndex) const </td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>QModelIndex&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="class_k_d_chart_1_1_abstract_proxy_model.html#_k_d_chart_1_1_private_attributes_modela11">mapToSource</a> (const QModelIndex &amp;proxyIndex) const </td></tr>

<tr><td class="memItemLeft" nowrap align=right valign=top>QModelIndex&nbsp;</td><td class="memItemRight" valign=bottom><a class="el" href="class_k_d_chart_1_1_abstract_proxy_model.html#_k_d_chart_1_1_private_attributes_modela14">parent</a> (const QModelIndex &amp;index) const </td></tr>

</table>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="_k_d_chart_1_1_abstract_proxy_modela0" doxytag="KDChart::AbstractProxyModel::AbstractProxyModel" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> KDChart::AbstractProxyModel::AbstractProxyModel </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top"><a class="el" href="class_q_object.html">QObject</a> *&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>parent</em> = 0          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [explicit]</code></td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
This is basically KDAbstractProxyModel, but only the bits that we really need from it. 
<p>

<p>
Definition at line <a class="el" href="_k_d_chart_abstract_proxy_model_8cpp-source.html#l00012">12</a> of file <a class="el" href="_k_d_chart_abstract_proxy_model_8cpp-source.html">KDChartAbstractProxyModel.cpp</a>.
<p>
<div class="fragment"><pre>00013   : <a class="code" href="class_q_abstract_proxy_model.html">QAbstractProxyModel</a>(parent) {}
</pre></div>    </td>
  </tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="_k_d_chart_1_1_private_attributes_modela7" doxytag="KDChart::AbstractProxyModel::index" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> QModelIndex KDChart::AbstractProxyModel::index </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">int&nbsp;</td>
          <td class="mdname" nowrap> <em>row</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>int&nbsp;</td>
          <td class="mdname" nowrap> <em>col</em>, </td>
        </tr>
        <tr>
          <td class="md" nowrap align="right"></td>
          <td></td>
          <td class="md" nowrap>const QModelIndex &amp;&nbsp;</td>
          <td class="mdname" nowrap> <em>index</em></td>
        </tr>
        <tr>
          <td></td>
          <td class="md">)&nbsp;</td>
          <td class="md" colspan="2"> const</td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="_k_d_chart_abstract_proxy_model_8cpp-source.html#l00053">53</a> of file <a class="el" href="_k_d_chart_abstract_proxy_model_8cpp-source.html">KDChartAbstractProxyModel.cpp</a>.
<p>
References <a class="el" href="_k_d_chart_abstract_proxy_model_8cpp-source.html#l00023">mapFromSource()</a>, and <a class="el" href="_k_d_chart_abstract_proxy_model_8cpp-source.html#l00036">mapToSource()</a>.
<p>
Referenced by <a class="el" href="_k_d_chart_attributes_model_8cpp-source.html#l00452">KDChart::AttributesModel::setHeaderData()</a>, and <a class="el" href="_k_d_chart_attributes_model_8cpp-source.html#l00483">KDChart::AttributesModel::setModelData()</a>.
<p>
<div class="fragment"><pre>00054 {
00055     Q_ASSERT(sourceModel());
00056     <span class="keywordflow">return</span> <a class="code" href="class_k_d_chart_1_1_abstract_proxy_model.html#_k_d_chart_1_1_private_attributes_modela10">mapFromSource</a>(sourceModel()-&gt;<a class="code" href="class_k_d_chart_1_1_abstract_proxy_model.html#_k_d_chart_1_1_private_attributes_modela7">index</a>( row, col, <a class="code" href="class_k_d_chart_1_1_abstract_proxy_model.html#_k_d_chart_1_1_private_attributes_modela11">mapToSource</a>(index) ));
00057 }
</pre></div>    </td>
  </tr>
</table>
<a class="anchor" name="_k_d_chart_1_1_private_attributes_modela10" doxytag="KDChart::AbstractProxyModel::mapFromSource" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> QModelIndex KDChart::AbstractProxyModel::mapFromSource </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const QModelIndex &amp;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>sourceIndex</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap> const</td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="_k_d_chart_abstract_proxy_model_8cpp-source.html#l00023">23</a> of file <a class="el" href="_k_d_chart_abstract_proxy_model_8cpp-source.html">KDChartAbstractProxyModel.cpp</a>.
<p>
Referenced by <a class="el" href="_k_d_chart_abstract_proxy_model_8cpp-source.html#l00053">index()</a>, and <a class="el" href="_k_d_chart_abstract_proxy_model_8cpp-source.html#l00059">parent()</a>.
<p>
<div class="fragment"><pre>00024 {
00025   <span class="keywordflow">if</span> ( !sourceIndex.isValid() )
00026     <span class="keywordflow">return</span> QModelIndex();
00027   <span class="comment">//qDebug() &lt;&lt; "sourceIndex.model()="&lt;&lt;sourceIndex.model();</span>
00028   <span class="comment">//qDebug() &lt;&lt; "model()="&lt;&lt;sourceModel();</span>
00029   Q_ASSERT( sourceIndex.model() == sourceModel() );
00030 
00031   <span class="comment">// Create an index that preserves the internal pointer from the source;</span>
00032   <span class="comment">// this way AbstractProxyModel preserves the structure of the source model</span>
00033   <span class="keywordflow">return</span> createIndex( sourceIndex.row(), sourceIndex.column(), sourceIndex.internalPointer() );
00034 }
</pre></div>    </td>
  </tr>
</table>
<a class="anchor" name="_k_d_chart_1_1_private_attributes_modela11" doxytag="KDChart::AbstractProxyModel::mapToSource" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> QModelIndex KDChart::AbstractProxyModel::mapToSource </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const QModelIndex &amp;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>proxyIndex</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap> const</td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="_k_d_chart_abstract_proxy_model_8cpp-source.html#l00036">36</a> of file <a class="el" href="_k_d_chart_abstract_proxy_model_8cpp-source.html">KDChartAbstractProxyModel.cpp</a>.
<p>
Referenced by <a class="el" href="_k_d_chart_attributes_model_8cpp-source.html#l00503">KDChart::AttributesModel::columnCount()</a>, <a class="el" href="_k_d_chart_attributes_model_8cpp-source.html#l00366">KDChart::AttributesModel::data()</a>, <a class="el" href="_k_d_chart_abstract_proxy_model_8cpp-source.html#l00053">index()</a>, <a class="el" href="_k_d_chart_abstract_proxy_model_8cpp-source.html#l00059">parent()</a>, <a class="el" href="_k_d_chart_attributes_model_8cpp-source.html#l00497">KDChart::AttributesModel::rowCount()</a>, and <a class="el" href="_k_d_chart_attributes_model_8cpp-source.html#l00433">KDChart::AttributesModel::setData()</a>.
<p>
<div class="fragment"><pre>00037 {
00038   <span class="keywordflow">if</span> ( !proxyIndex.isValid() )
00039     <span class="keywordflow">return</span> QModelIndex();
00040   Q_ASSERT( proxyIndex.model() == <span class="keyword">this</span> );
00041   <span class="comment">// So here we need to create a source index which holds that internal pointer.</span>
00042   <span class="comment">// No way to pass it to sourceModel()-&gt;index... so we have to do the ugly way:</span>
00043   QModelIndex sourceIndex;
00044   KDPrivateModelIndex* hack = reinterpret_cast&lt;KDPrivateModelIndex*&gt;(&amp;sourceIndex);
00045   hack-&gt;r = proxyIndex.row();
00046   hack-&gt;c = proxyIndex.column();
00047   hack-&gt;p = proxyIndex.internalPointer();
00048   hack-&gt;m = sourceModel();
00049   Q_ASSERT( sourceIndex.isValid() );
00050   <span class="keywordflow">return</span> sourceIndex;
00051 }
</pre></div>    </td>
  </tr>
</table>
<a class="anchor" name="_k_d_chart_1_1_private_attributes_modela14" doxytag="KDChart::AbstractProxyModel::parent" ></a><p>
<table class="mdTable" width="100%" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top"> QModelIndex KDChart::AbstractProxyModel::parent </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="md" nowrap valign="top">const QModelIndex &amp;&nbsp;</td>
          <td class="mdname1" valign="top" nowrap> <em>index</em>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap> const</td>
        </tr>

      </table>
    </td>
  </tr>
</table>
<table cellspacing=5 cellpadding=0 border=0>
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>

<p>
Definition at line <a class="el" href="_k_d_chart_abstract_proxy_model_8cpp-source.html#l00059">59</a> of file <a class="el" href="_k_d_chart_abstract_proxy_model_8cpp-source.html">KDChartAbstractProxyModel.cpp</a>.
<p>
References <a class="el" href="_k_d_chart_abstract_proxy_model_8cpp-source.html#l00023">mapFromSource()</a>, and <a class="el" href="_k_d_chart_abstract_proxy_model_8cpp-source.html#l00036">mapToSource()</a>.
<p>
<div class="fragment"><pre>00060 {
00061     Q_ASSERT(sourceModel());
00062     <span class="keywordflow">return</span> <a class="code" href="class_k_d_chart_1_1_abstract_proxy_model.html#_k_d_chart_1_1_private_attributes_modela10">mapFromSource</a>(sourceModel()-&gt;<a class="code" href="class_k_d_chart_1_1_abstract_proxy_model.html#_k_d_chart_1_1_private_attributes_modela14">parent</a>( <a class="code" href="class_k_d_chart_1_1_abstract_proxy_model.html#_k_d_chart_1_1_private_attributes_modela11">mapToSource</a>(index) ));
00063 }
</pre></div>    </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="_k_d_chart_abstract_proxy_model_8h-source.html">KDChartAbstractProxyModel.h</a><li><a class="el" href="_k_d_chart_abstract_proxy_model_8cpp-source.html">KDChartAbstractProxyModel.cpp</a></ul>
<hr size="1"><address style="align: right;"><small>Generated on Thu May 10 11:06:31 2007 for KD Chart 2 by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 > </a>1.3.6 </small></address>
</body>
</html>
